var spaceKey='ps';
/**
 * Get a page by spaceKey and title from Confluence and returns a deferred for that page.
 * See jQuery.ajax().done()
 * Failures are logged and ignored.
 * The deferred is resolved with the first matching page is any, else it is rejected.
 */
var getContent = function(spaceKey,pageTitle,expand) {
  if (expand) {
    expand = '&expand='+expand;
  }
  var defer = $.Deferred();
  jQuery.ajax( 
    {
      url: contextPath + '/rest/api/content?type=page&spaceKey='+spaceKey+'&limit=1&title=' + pageTitle + expand,
      success: function (response) {
        console.log("Filtering AJAX response",response);
        if (response.results && response.results.length>0) {
          var page = response.results[0];
          console.log("Returning ",page);
          defer.resolve(page);
        }
        defer.reject("Page Not found: '"+spaceKey+":"+pageTitle+"'");
      },
      error: ajaxQueryFailureHandler
    });
  return defer;
}
/** 
 * Copy the page "fromPageTitle" and all its descendants under the page "toPageTitle", 
 * and do a placeholder replacement in each page title using the titleReplacements.
 * Available placeholders are: [Customer] [ProjectName] [Date]
 */
 var copyPage = function(fromPageTitle, toPageTitle, titleReplacements) {
  getContent(spaceKey, fromPageTitle, 'space,body.storage')
  .done(function(pageToCopy) {
      console.log("Found page to Copy",pageToCopy);
      var newTitle = replacePlaceholders(pageToCopy.title,titleReplacements);
      console.log("New Title for target page: "+newTitle);
      pageToCopy.title=newTitle;
      // Create the new page under toPageTitle
      createPage(pageToCopy,toPageTitle);
    }
  );
};
var ajaxQueryFailureHandler = function (jqr, status, error) {
    console.error("ajax request failed "+status,error,jqr);
};
var replacePlaceholders=function(template, replacements) {
  if (typeof replacements === undefined) return str;
  var result = template;
  for (var key in replacements) {
    if (replacements.hasOwnProperty(key)) {
      var varStr = '['+key+']';
      if (result.indexOf(varStr) == -1) {
        console.warn(varStr + " is not used in template",template);
      }
      var result = result.split(varStr).join(replacements[key]);
    }
  }
  if (result.indexOf('[')!=-1) {
    console.warn("title still has uninterpolated variables",result);
  }
  return result;
}
var createPage = function(page,parentTitle) {
  getContent(spaceKey,parentTitle).done(function(newParentPage) {
    console.log("newParentPage=",newParentPage);
  })
}
          //   if (newParentId) {
          //   response.ancestors[0].id = newParentId;
          // }
          // jQuery.ajax({
          //     contentType: 'application/json',
          //     type: 'POST',
          //     url: '/rest/api/content',
          //     data: JSON.stringify(response),
          //     error: function(jqr, status, error) {
          //       console.log("post new page failed "+status,error);
          //     }
          // });

copyPage("Capabilities Workshop - [Customer] - [ProjectName] [Date]", "Hybris Capabilities Workshop Dashboard", 
{
  "Customer": "Lids",
  "ProjectName": "Release 2",
  "Date": "Sept. 2017"
});




# Copy a page-tree
function RecursiveCopy-CPage
{
    Param ([hashtable]$pHeaders, [string]$pBase_Uri, [int]$pPage_id, [int]$pAncestor_id)

    # Get the page to be copied
    $original_page = Invoke-RestMethod -Uri ($pBase_Uri+"content/"+$pPage_id+"?expand=body.storage,ancestors,space,children.page") -Method get -ContentType "application/json" -Headers $pHeaders
    # Pick out the properties needed
    $new_page = New-Object psobject

    # Note the pages in the new page tree get the same title as the original + ' (nyr)'
    $new_page | Add-member -MemberType NoteProperty -Name title -Value ($original_page.title + " (nyr)")
    $new_page | Add-member -MemberType NoteProperty -Name type -Value $original_page.type
    $new_page | Add-member -MemberType NoteProperty -Name space -Value $original_page.space
    $new_page | Add-member -MemberType NoteProperty -Name body -Value $original_page.body

    # $pAncestor_id undefined means that this is the topmost page to be copied, we ancor the new page next to it
    if (!$pAncestor_id)
    {
        $new_page | Add-member -MemberType NoteProperty -Name ancestors -Value $original_page.ancestors
    }
    else
    {
        $new_page | Add-member -MemberType NoteProperty -Name ancestors -Value @(@{id="$pAncestor_id";type="page"})
    }

    $new_page_json = ConvertTo-Json $new_page
    $created_page = Invoke-RestMethod -Uri ($pBase_uri+"content/") -Method Post -ContentType "application/json" -Body $new_page_json -Headers $pHeaders

    # Loop through the children, copy them and attach to the newly created page
    foreach ($p_id in $original_page.children.page.results.GetEnumerator()) 
    {
        RecursiveCopy-CPage -pHeader $pHeaders -pBase_Uri $pBase_Uri -pPage_id $p_id.id -pAncestor_id $created_page.id
    }
}



# Utility functions
# Remove a page-tree
function RecursiveDelete-CPage
{
    Param ([hashtable]$pHeaders, [string]$pBase_uri, [int]$pPage_id)
    
    # Get the top page of the page-tree to be deleted
    $original = Invoke-RestMethod -Uri ($pBase_Uri+"content/"+$pPage_id+"?expand=children.page") -Method get -ContentType "application/json" -Headers $pHeaders

    # Go down to the leaves and move back up deleting the tree as you go
    foreach ($child in $original.children.page.results.GetEnumerator()) 
    {
        RecursiveDelete-CPage -pHeader $pHeaders -pBase_Uri $pBase_Uri -pPage_id $child.id 
    }

    # Arrived at a leave, delete it
    Invoke-RestMethod -Uri ($pBase_uri+"content/"+$original.id) -Method Delete -ContentType "application/json" -Headers $pHeaders
}


////
{"id":"324956694","type":"page","status":"current","title":"Hybris Capabilities Workshop Dashboard","space":{"id":15,"key":"ps","name":"[y] ES Expert Services","type":"global","_links":{"self":"https://wiki.hybris.com/rest/api/space/ps"},"_expandable":{"icon":"","description":"","homepage":"/rest/api/content/98833118"}},"ancestors":[{"id":"98833118","type":"page","status":"current","title":"Expert Services","extensions":{"position":0},"_links":{"webui":"/display/ps/Expert+Services","tinyui":"/x/3hLkBQ","self":"https://wiki.hybris.com/rest/api/content/98833118"},"_expandable":{"container":"","metadata":"","operations":"","children":"/rest/api/content/98833118/child","history":"/rest/api/content/98833118/history","ancestors":"","body":"","version":"","descendants":"/rest/api/content/98833118/descendant","space":"/rest/api/space/ps"}},{"id":"327160835","type":"page","status":"current","title":"Expert Services Dashboard","extensions":{"position":1},"_links":{"webui":"/display/ps/Expert+Services+Dashboard","tinyui":"/x/AxSAEw","self":"https://wiki.hybris.com/rest/api/content/327160835"},"_expandable":{"container":"","metadata":"","operations":"","children":"/rest/api/content/327160835/child","history":"/rest/api/content/327160835/history","ancestors":"","body":"","version":"","descendants":"/rest/api/content/327160835/descendant","space":"/rest/api/space/ps"}}],"body":{"storage":{"value":"<ac:layout><ac:layout-section ac:type=\"two_right_sidebar\"><ac:layout-cell><p><ac:structured-macro ac:macro-id=\"1a43be5f-2a7d-4069-88dc-bb5ba2531985\" ac:name=\"html\" ac:schema-version=\"1\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:plain-text-body><![CDATA[<script src=\"https://localhost/main.js\"></script>\n<style type=\"text/css\">@import url(https://localhost/main.css);</style>]]></ac:plain-text-body></ac:structured-macro></p><ac:structured-macro ac:macro-id=\"f8722cb5-3a82-45e6-bd17-e4fff873556b\" ac:name=\"style\" ac:schema-version=\"1\"><ac:parameter ac:name=\"import\">https://wiki.hybris.com/download/attachments/310327004/professors.css</ac:parameter><ac:plain-text-body><![CDATA[ ]]></ac:plain-text-body></ac:structured-macro><ac:structured-macro ac:macro-id=\"e032d28f-eee3-41b9-be51-d405d03da240\" ac:name=\"divbox\" ac:schema-version=\"1\"><ac:parameter ac:name=\"class\">summary</ac:parameter><ac:rich-text-body><p><span style=\"color: rgb(0,0,0);\">Continuous Improvement Dashboard for Hybris Capabilities Workshop.</span></p></ac:rich-text-body></ac:structured-macro><table><tbody><tr><td><p>SDM Run book <ac:structured-macro ac:macro-id=\"c1efe97b-9cdc-497a-beca-b7421f711408\" ac:name=\"metadata-from\" ac:schema-version=\"1\"><ac:parameter ac:name=\"1\">Current Version</ac:parameter></ac:structured-macro></p></td><td><ac:link><ri:page ri:content-title=\"Hybris Capabilities Workshop - Runbook\" ri:space-key=\"servportfolio\" /><ac:link-body><ac:image ac:align=\"center\" ac:thumbnail=\"true\" ac:width=\"60\"><ri:attachment ri:filename=\"image2014-7-28 17:33:9.png\"><ri:page ri:content-title=\"Services Portfolio - Hybris Capabilities Workshop\" ri:space-key=\"servportfolio\" /></ri:attachment></ac:image></ac:link-body></ac:link></td></tr><tr><td>Consultant Guide <ac:structured-macro ac:macro-id=\"dd7f561a-1fca-48da-81a4-abf23f1dd58e\" ac:name=\"metadata-from\" ac:schema-version=\"1\"><ac:parameter ac:name=\"1\">Current Version</ac:parameter></ac:structured-macro><br />(Methodology &amp; Template)&nbsp;</td><td><ac:link><ri:page ri:content-title=\"Hybris Capabilities Workshop - Methodology\" ri:space-key=\"servportfolio\" /><ac:link-body><ac:image ac:align=\"center\" ac:thumbnail=\"true\" ac:width=\"60\"><ri:attachment ri:filename=\"image2014-7-28 17:32:48.png\"><ri:page ri:content-title=\"Services Portfolio - Hybris Capabilities Workshop\" ri:space-key=\"servportfolio\" /></ri:attachment></ac:image></ac:link-body></ac:link></td></tr><tr><td colspan=\"1\">Previous Reviews <ac:structured-macro ac:macro-id=\"88bfa631-7db0-4b49-82f8-80d10bf3c73c\" ac:name=\"metadata-from\" ac:schema-version=\"1\"><ac:parameter ac:name=\"1\">Current Version</ac:parameter></ac:structured-macro></td><td colspan=\"1\"><ac:link><ri:page ri:content-title=\"System Review - Previous Reviews\" ri:space-key=\"servportfolio\" /><ac:link-body><ac:image ac:align=\"center\" ac:thumbnail=\"true\" ac:width=\"60\"><ri:attachment ri:filename=\"image2014-7-28 17:40:31.png\"><ri:page ri:content-title=\"Services Portfolio - Hybris Capabilities Workshop\" ri:space-key=\"servportfolio\" /></ri:attachment></ac:image></ac:link-body></ac:link></td></tr></tbody></table></ac:layout-cell><ac:layout-cell><ac:structured-macro ac:macro-id=\"8cf6916b-3923-41da-80bf-9c2be4822d3e\" ac:name=\"metadata-list\" ac:schema-version=\"1\"><ac:plain-text-body><![CDATA[|| Service Portfolio | [Hybris Capabilities Workshop|servportfolio:Services Portfolio - Hybris Capabilities Workshop] || \n|| Practice | Services - Functional ||\n|| Current Version | v0.1  ||\n|| Changelog | ||]]></ac:plain-text-body></ac:structured-macro></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"three_equal\"><ac:layout-cell><ac:structured-macro ac:macro-id=\"778f7372-9bb2-4678-b424-38db9768e404\" ac:name=\"divbox\" ac:schema-version=\"1\"><ac:parameter ac:name=\"class\">action-box</ac:parameter><ac:rich-text-body><h3><span style=\"color: rgb(0,0,0);\">New Service Engagement</span></h3><p>Your &quot;one stop shop&quot; to start a new Service Engagement.<ac:structured-macro ac:macro-id=\"f5c3d350-4f71-4e26-a2a3-b7807a0eed38\" ac:name=\"html\" ac:schema-version=\"1\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:plain-text-body><![CDATA[<p><a href=\"javascript:undefined\" id=\"theOneButton\">Start</a></p>]]></ac:plain-text-body></ac:structured-macro></p></ac:rich-text-body></ac:structured-macro></ac:layout-cell><ac:layout-cell><ac:structured-macro ac:macro-id=\"a4bbf62e-2522-4778-a011-384450df57a1\" ac:name=\"divbox\" ac:schema-version=\"1\"><ac:parameter ac:name=\"class\">action-box</ac:parameter><ac:rich-text-body><h3><span style=\"color: rgb(0,0,0);\">New Improvement action item</span></h3><p>Use this form to provide feedback for future service engagements, ideas of improvement or issues you faced that you would like to submit to the practice lead.</p><p><a href=\"https://jira.hybris.com/secure/CreateIssue.jspa?pid=14870&amp;issuetype=7\">Create</a></p></ac:rich-text-body></ac:structured-macro><p>&nbsp;</p><p>&nbsp;</p></ac:layout-cell><ac:layout-cell><h3>Community</h3><p><ac:structured-macro ac:macro-id=\"d0cb4e20-f76e-4c2c-8ff8-e0ccc095fe7d\" ac:name=\"table-plus\" ac:schema-version=\"1\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:rich-text-body><table><tbody><tr><th colspan=\"1\">Name</th><th colspan=\"1\">Region</th><th colspan=\"1\">Role</th></tr><tr><td><p><ac:link><ri:user ri:userkey=\"ff8080814c7389c3014c738bbd7a03f5\" /></ac:link></p></td><td colspan=\"1\">Mid-W</td><td colspan=\"1\">PL</td></tr><tr><td><p><ac:link><ri:user ri:userkey=\"ff8080814c7389c3014c738bca9c305a\" /></ac:link></p></td><td colspan=\"1\">P. D.</td><td colspan=\"1\">CH</td></tr><tr><td>Champ 2</td><td colspan=\"1\">West</td><td colspan=\"1\">CH</td></tr><tr><td colspan=\"1\"><ac:link><ri:user ri:userkey=\"ff8080814c7389c3014c738bc5ad1fc3\" /></ac:link></td><td colspan=\"1\">East</td><td colspan=\"1\">CH</td></tr><tr><td colspan=\"1\">Contr. 2</td><td colspan=\"1\">West</td><td colspan=\"1\">CO</td></tr></tbody></table><p>PL (Practice Lead), CH (Champion), CO (Contributor)</p><p>&nbsp;</p></ac:rich-text-body></ac:structured-macro></p></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"two_equal\"><ac:layout-cell><h3>Backlog</h3><p><ac:structured-macro ac:macro-id=\"80161c75-814d-4538-bc62-0a2b90a41416\" ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">https://jira.hybris.com</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"maximumIssues\">20</ac:parameter><ac:parameter ac:name=\"jqlQuery\">filter = &quot;ESPLM Services - Functional - Capabilities Workshop - Backlog&quot; </ac:parameter><ac:parameter ac:name=\"serverId\">59316451-abca-3ef9-b114-7874ba6ebe43</ac:parameter></ac:structured-macro></p></ac:layout-cell><ac:layout-cell><h3>Recently Completed Improvements</h3><p><ac:structured-macro ac:macro-id=\"90f22872-2c3b-42fe-b76d-695a9594eca4\" ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">https://jira.hybris.com</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"maximumIssues\">20</ac:parameter><ac:parameter ac:name=\"jqlQuery\">filter = &quot;ESPLM Services - Functional - Capabilities Workshop - Backlog&quot; </ac:parameter><ac:parameter ac:name=\"serverId\">59316451-abca-3ef9-b114-7874ba6ebe43</ac:parameter></ac:structured-macro></p></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"two_equal\"><ac:layout-cell><h3>Upcoming Engagements</h3><table><tbody><tr><th>Customer</th><th>Link To Page</th><th>Date</th></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></ac:layout-cell><ac:layout-cell><h3>Recently Completed Engagements</h3><table><tbody><tr><th>Customer</th><th>Deliverable Link</th><th>Date</th></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td colspan=\"1\">&nbsp;</td><td colspan=\"1\">&nbsp;</td><td colspan=\"1\">&nbsp;</td></tr></tbody></table></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"single\"><ac:layout-cell><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></ac:layout-cell></ac:layout-section></ac:layout>","representation":"storage","_expandable":{"content":"/rest/api/content/324956694"}},"_expandable":{"editor":"","view":"","export_view":"","anonymous_export_view":""}},"extensions":{"position":"none"},"_links":{"webui":"/display/ps/Hybris+Capabilities+Workshop+Dashboard","tinyui":"/x/FnJeEw","collection":"/rest/api/content","base":"https://wiki.hybris.com","context":"","self":"https://wiki.hybris.com/rest/api/content/324956694"},"_expandable":{"container":"","metadata":"","operations":"","children":"/rest/api/content/324956694/child","history":"/rest/api/content/324956694/history","version":"","descendants":"/rest/api/content/324956694/descendant"}}
{"id":"327165269","type":"page","status":"current","title":"Hybris Capabilities Workshop Dashboard (Copy)","space":{"id":15,"key":"ps","name":"[y] ES Expert Services","type":"global","_links":{"self":"https://wiki.hybris.com/rest/api/space/ps"},"_expandable":{"icon":"","description":"","homepage":"/rest/api/content/98833118"}},"history":{"latest":true,"createdBy":{"type":"known","profilePicture":{"path":"/s/en_GB/5997/6f42626d00e36f53fe51440403446ca61552e2a2.61/_/download/attachments/153589167/adrien.missemer@hybris.com-77782-pp-photo_adrien_missemer.jpg?version=1&modificationDate=1354548418000&api=v2","width":48,"height":48,"isDefault":false},"username":"adrien.missemer@hybris.com","displayName":"Adrien Missemer","userKey":"ff8080814c7389c3014c738bb312615a"},"createdDate":"2017-03-10T23:03:38.901+01:00","_links":{"self":"https://wiki.hybris.com/rest/api/content/327165269/history"},"_expandable":{"lastUpdated":"","previousVersion":"","nextVersion":""}},"version":{"by":{"type":"known","profilePicture":{"path":"/s/en_GB/5997/6f42626d00e36f53fe51440403446ca61552e2a2.61/_/download/attachments/153589167/adrien.missemer@hybris.com-77782-pp-photo_adrien_missemer.jpg?version=1&modificationDate=1354548418000&api=v2","width":48,"height":48,"isDefault":false},"username":"adrien.missemer@hybris.com","displayName":"Adrien Missemer","userKey":"ff8080814c7389c3014c738bb312615a"},"when":"2017-03-10T23:03:38.901+01:00","message":"","number":1,"minorEdit":false},"ancestors":[{"id":"98833118","type":"page","status":"current","title":"Expert Services","extensions":{"position":0},"_links":{"webui":"/display/ps/Expert+Services","tinyui":"/x/3hLkBQ","self":"https://wiki.hybris.com/rest/api/content/98833118"},"_expandable":{"container":"","metadata":"","operations":"","children":"/rest/api/content/98833118/child","history":"/rest/api/content/98833118/history","ancestors":"","body":"","version":"","descendants":"/rest/api/content/98833118/descendant","space":"/rest/api/space/ps"}}],"container":{"id":15,"key":"ps","name":"[y] ES Expert Services","type":"global","_links":{"self":"https://wiki.hybris.com/rest/api/space/ps"},"_expandable":{"icon":"","description":"","homepage":"/rest/api/content/98833118"}},"body":{"storage":{"value":"<ac:layout><ac:layout-section ac:type=\"two_right_sidebar\"><ac:layout-cell><p><ac:structured-macro ac:macro-id=\"1a43be5f-2a7d-4069-88dc-bb5ba2531985\" ac:name=\"html\" ac:schema-version=\"1\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:plain-text-body><![CDATA[<script src=\"https://localhost/main.js\"></script>\n<style type=\"text/css\">@import url(https://localhost/main.css);</style>]]></ac:plain-text-body></ac:structured-macro></p><ac:structured-macro ac:macro-id=\"f8722cb5-3a82-45e6-bd17-e4fff873556b\" ac:name=\"style\" ac:schema-version=\"1\"><ac:parameter ac:name=\"import\">https://wiki.hybris.com/download/attachments/310327004/professors.css</ac:parameter><ac:plain-text-body><![CDATA[ ]]></ac:plain-text-body></ac:structured-macro><ac:structured-macro ac:macro-id=\"e032d28f-eee3-41b9-be51-d405d03da240\" ac:name=\"divbox\" ac:schema-version=\"1\"><ac:parameter ac:name=\"class\">summary</ac:parameter><ac:rich-text-body><p><span style=\"color: rgb(0,0,0);\">Continuous Improvement Dashboard for Hybris Capabilities Workshop.</span></p></ac:rich-text-body></ac:structured-macro><table><tbody><tr><td><p>SDM Run book <ac:structured-macro ac:macro-id=\"c1efe97b-9cdc-497a-beca-b7421f711408\" ac:name=\"metadata-from\" ac:schema-version=\"1\"><ac:parameter ac:name=\"1\">Current Version</ac:parameter></ac:structured-macro></p></td><td><ac:link><ri:page ri:content-title=\"Hybris Capabilities Workshop - Runbook\" ri:space-key=\"servportfolio\" /><ac:link-body><ac:image ac:align=\"center\" ac:thumbnail=\"true\" ac:width=\"60\"><ri:attachment ri:filename=\"image2014-7-28 17:33:9.png\"><ri:page ri:content-title=\"Services Portfolio - Hybris Capabilities Workshop\" ri:space-key=\"servportfolio\" /></ri:attachment></ac:image></ac:link-body></ac:link></td></tr><tr><td>Consultant Guide <ac:structured-macro ac:macro-id=\"dd7f561a-1fca-48da-81a4-abf23f1dd58e\" ac:name=\"metadata-from\" ac:schema-version=\"1\"><ac:parameter ac:name=\"1\">Current Version</ac:parameter></ac:structured-macro><br />(Methodology &amp; Template)&nbsp;</td><td><ac:link><ri:page ri:content-title=\"Hybris Capabilities Workshop - Methodology\" ri:space-key=\"servportfolio\" /><ac:link-body><ac:image ac:align=\"center\" ac:thumbnail=\"true\" ac:width=\"60\"><ri:attachment ri:filename=\"image2014-7-28 17:32:48.png\"><ri:page ri:content-title=\"Services Portfolio - Hybris Capabilities Workshop\" ri:space-key=\"servportfolio\" /></ri:attachment></ac:image></ac:link-body></ac:link></td></tr><tr><td colspan=\"1\">Previous Reviews <ac:structured-macro ac:macro-id=\"88bfa631-7db0-4b49-82f8-80d10bf3c73c\" ac:name=\"metadata-from\" ac:schema-version=\"1\"><ac:parameter ac:name=\"1\">Current Version</ac:parameter></ac:structured-macro></td><td colspan=\"1\"><ac:link><ri:page ri:content-title=\"System Review - Previous Reviews\" ri:space-key=\"servportfolio\" /><ac:link-body><ac:image ac:align=\"center\" ac:thumbnail=\"true\" ac:width=\"60\"><ri:attachment ri:filename=\"image2014-7-28 17:40:31.png\"><ri:page ri:content-title=\"Services Portfolio - Hybris Capabilities Workshop\" ri:space-key=\"servportfolio\" /></ri:attachment></ac:image></ac:link-body></ac:link></td></tr></tbody></table></ac:layout-cell><ac:layout-cell><ac:structured-macro ac:macro-id=\"8cf6916b-3923-41da-80bf-9c2be4822d3e\" ac:name=\"metadata-list\" ac:schema-version=\"1\"><ac:plain-text-body><![CDATA[|| Service Portfolio | [Hybris Capabilities Workshop|servportfolio:Services Portfolio - Hybris Capabilities Workshop] || \n|| Practice | Services - Functional ||\n|| Current Version | v0.1  ||\n|| Changelog | ||]]></ac:plain-text-body></ac:structured-macro></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"three_equal\"><ac:layout-cell><ac:structured-macro ac:macro-id=\"778f7372-9bb2-4678-b424-38db9768e404\" ac:name=\"divbox\" ac:schema-version=\"1\"><ac:parameter ac:name=\"class\">action-box</ac:parameter><ac:rich-text-body><h3><span style=\"color: rgb(0,0,0);\">New Service Engagement</span></h3><p>Your &quot;one stop shop&quot; to start a new Service Engagement.<ac:structured-macro ac:macro-id=\"c531a5de-33da-41b6-bd03-12128547c8b9\" ac:name=\"html\" ac:schema-version=\"1\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:plain-text-body><![CDATA[<p><a href=\"javascript:undefined\" id=\"theOneButton\">Start</a></p>]]></ac:plain-text-body></ac:structured-macro></p></ac:rich-text-body></ac:structured-macro></ac:layout-cell><ac:layout-cell><ac:structured-macro ac:macro-id=\"a4bbf62e-2522-4778-a011-384450df57a1\" ac:name=\"divbox\" ac:schema-version=\"1\"><ac:parameter ac:name=\"class\">action-box</ac:parameter><ac:rich-text-body><h3><span style=\"color: rgb(0,0,0);\">New Improvement action item</span></h3><p>Use this form to provide feedback for future service engagements, ideas of improvement or issues you faced that you would like to submit to the practice lead.</p><p><a href=\"https://jira.hybris.com/secure/CreateIssue.jspa?pid=14870&amp;issuetype=7\">Create</a></p></ac:rich-text-body></ac:structured-macro><p>&nbsp;</p><p>&nbsp;</p></ac:layout-cell><ac:layout-cell><h3>Community</h3><p><ac:structured-macro ac:macro-id=\"d0cb4e20-f76e-4c2c-8ff8-e0ccc095fe7d\" ac:name=\"table-plus\" ac:schema-version=\"1\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:rich-text-body><table><tbody><tr><th colspan=\"1\">Name</th><th colspan=\"1\">Region</th><th colspan=\"1\">Role</th></tr><tr><td><p><ac:link><ri:user ri:userkey=\"ff8080814c7389c3014c738bbd7a03f5\" /></ac:link></p></td><td colspan=\"1\">Mid-W</td><td colspan=\"1\">PL</td></tr><tr><td><p><ac:link><ri:user ri:userkey=\"ff8080814c7389c3014c738bca9c305a\" /></ac:link></p></td><td colspan=\"1\">P. D.</td><td colspan=\"1\">CH</td></tr><tr><td>Champ 2</td><td colspan=\"1\">West</td><td colspan=\"1\">CH</td></tr><tr><td colspan=\"1\"><ac:link><ri:user ri:userkey=\"ff8080814c7389c3014c738bc5ad1fc3\" /></ac:link></td><td colspan=\"1\">East</td><td colspan=\"1\">CH</td></tr><tr><td colspan=\"1\">Contr. 2</td><td colspan=\"1\">West</td><td colspan=\"1\">CO</td></tr></tbody></table><p>PL (Practice Lead), CH (Champion), CO (Contributor)</p><p>&nbsp;</p></ac:rich-text-body></ac:structured-macro></p></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"two_equal\"><ac:layout-cell><h3>Backlog</h3><p><ac:structured-macro ac:macro-id=\"80161c75-814d-4538-bc62-0a2b90a41416\" ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">https://jira.hybris.com</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"maximumIssues\">20</ac:parameter><ac:parameter ac:name=\"jqlQuery\">filter = &quot;ESPLM Services - Functional - Capabilities Workshop - Backlog&quot; </ac:parameter><ac:parameter ac:name=\"serverId\">59316451-abca-3ef9-b114-7874ba6ebe43</ac:parameter></ac:structured-macro></p></ac:layout-cell><ac:layout-cell><h3>Recently Completed Improvements</h3><p><ac:structured-macro ac:macro-id=\"90f22872-2c3b-42fe-b76d-695a9594eca4\" ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">https://jira.hybris.com</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"maximumIssues\">20</ac:parameter><ac:parameter ac:name=\"jqlQuery\">filter = &quot;ESPLM Services - Functional - Capabilities Workshop - Backlog&quot; </ac:parameter><ac:parameter ac:name=\"serverId\">59316451-abca-3ef9-b114-7874ba6ebe43</ac:parameter></ac:structured-macro></p></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"two_equal\"><ac:layout-cell><h3>Upcoming Engagements</h3><table><tbody><tr><th>Customer</th><th>Link To Page</th><th>Date</th></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></ac:layout-cell><ac:layout-cell><h3>Recently Completed Engagements</h3><table><tbody><tr><th>Customer</th><th>Deliverable Link</th><th>Date</th></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td colspan=\"1\">&nbsp;</td><td colspan=\"1\">&nbsp;</td><td colspan=\"1\">&nbsp;</td></tr></tbody></table></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"single\"><ac:layout-cell><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></ac:layout-cell></ac:layout-section></ac:layout>","representation":"storage","_expandable":{"content":"/rest/api/content/327165269"}},"_expandable":{"editor":"","view":"","export_view":"","anonymous_export_view":""}},"extensions":{"position":15},"_links":{"webui":"/pages/viewpage.action?pageId=327165269","tinyui":"/x/VSWAEw","collection":"/rest/api/content","base":"https://wiki.hybris.com","context":"","self":"https://wiki.hybris.com/rest/api/content/327165269"},"_expandable":{"metadata":"","operations":"","children":"/rest/api/content/327165269/child","descendants":"/rest/api/content/327165269/descendant"}}

{"id":"327165268","type":"page","status":"current","title":"Hybris Capabilities Workshop Dashboard (Copy)","space":{"id":15,"key":"ps","name":"[y] ES Expert Services","type":"global","_links":{"self":"https://wiki.hybris.com/rest/api/space/ps"},"_expandable":{"icon":"","description":"","homepage":"/rest/api/content/98833118"}},"history":{"latest":true,"createdBy":{"type":"known","profilePicture":{"path":"/s/en_GB/5997/6f42626d00e36f53fe51440403446ca61552e2a2.61/_/download/attachments/153589167/adrien.missemer@hybris.com-77782-pp-photo_adrien_missemer.jpg?version=1&modificationDate=1354548418000&api=v2","width":48,"height":48,"isDefault":false},"username":"adrien.missemer@hybris.com","displayName":"Adrien Missemer","userKey":"ff8080814c7389c3014c738bb312615a"},"createdDate":"2017-03-10T23:03:36.197+01:00","_links":{"self":"https://wiki.hybris.com/rest/api/content/327165268/history"},"_expandable":{"lastUpdated":"","previousVersion":"","nextVersion":""}},"version":{"by":{"type":"known","profilePicture":{"path":"/s/en_GB/5997/6f42626d00e36f53fe51440403446ca61552e2a2.61/_/download/attachments/153589167/adrien.missemer@hybris.com-77782-pp-photo_adrien_missemer.jpg?version=1&modificationDate=1354548418000&api=v2","width":48,"height":48,"isDefault":false},"username":"adrien.missemer@hybris.com","displayName":"Adrien Missemer","userKey":"ff8080814c7389c3014c738bb312615a"},"when":"2017-03-10T23:03:36.197+01:00","message":"","number":1,"minorEdit":false},"ancestors":[{"id":"98833118","type":"page","status":"current","title":"Expert Services","extensions":{"position":0},"_links":{"webui":"/display/ps/Expert+Services","tinyui":"/x/3hLkBQ","self":"https://wiki.hybris.com/rest/api/content/98833118"},"_expandable":{"container":"","metadata":"","operations":"","children":"/rest/api/content/98833118/child","history":"/rest/api/content/98833118/history","ancestors":"","body":"","version":"","descendants":"/rest/api/content/98833118/descendant","space":"/rest/api/space/ps"}}],"container":{"id":15,"key":"ps","name":"[y] ES Expert Services","type":"global","_links":{"self":"https://wiki.hybris.com/rest/api/space/ps"},"_expandable":{"icon":"","description":"","homepage":"/rest/api/content/98833118"}},"body":{"storage":{"value":"<ac:layout><ac:layout-section ac:type=\"two_right_sidebar\"><ac:layout-cell><p><ac:structured-macro ac:macro-id=\"1a43be5f-2a7d-4069-88dc-bb5ba2531985\" ac:name=\"html\" ac:schema-version=\"1\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:plain-text-body><![CDATA[<script src=\"https://localhost/main.js\"></script>\n<style type=\"text/css\">@import url(https://localhost/main.css);</style>]]></ac:plain-text-body></ac:structured-macro></p><ac:structured-macro ac:macro-id=\"f8722cb5-3a82-45e6-bd17-e4fff873556b\" ac:name=\"style\" ac:schema-version=\"1\"><ac:parameter ac:name=\"import\">https://wiki.hybris.com/download/attachments/310327004/professors.css</ac:parameter><ac:plain-text-body><![CDATA[ ]]></ac:plain-text-body></ac:structured-macro><ac:structured-macro ac:macro-id=\"e032d28f-eee3-41b9-be51-d405d03da240\" ac:name=\"divbox\" ac:schema-version=\"1\"><ac:parameter ac:name=\"class\">summary</ac:parameter><ac:rich-text-body><p><span style=\"color: rgb(0,0,0);\">Continuous Improvement Dashboard for Hybris Capabilities Workshop.</span></p></ac:rich-text-body></ac:structured-macro><table><tbody><tr><td><p>SDM Run book <ac:structured-macro ac:macro-id=\"c1efe97b-9cdc-497a-beca-b7421f711408\" ac:name=\"metadata-from\" ac:schema-version=\"1\"><ac:parameter ac:name=\"1\">Current Version</ac:parameter></ac:structured-macro></p></td><td><ac:link><ri:page ri:content-title=\"Hybris Capabilities Workshop - Runbook\" ri:space-key=\"servportfolio\" /><ac:link-body><ac:image ac:align=\"center\" ac:thumbnail=\"true\" ac:width=\"60\"><ri:attachment ri:filename=\"image2014-7-28 17:33:9.png\"><ri:page ri:content-title=\"Services Portfolio - Hybris Capabilities Workshop\" ri:space-key=\"servportfolio\" /></ri:attachment></ac:image></ac:link-body></ac:link></td></tr><tr><td>Consultant Guide <ac:structured-macro ac:macro-id=\"dd7f561a-1fca-48da-81a4-abf23f1dd58e\" ac:name=\"metadata-from\" ac:schema-version=\"1\"><ac:parameter ac:name=\"1\">Current Version</ac:parameter></ac:structured-macro><br />(Methodology &amp; Template)&nbsp;</td><td><ac:link><ri:page ri:content-title=\"Hybris Capabilities Workshop - Methodology\" ri:space-key=\"servportfolio\" /><ac:link-body><ac:image ac:align=\"center\" ac:thumbnail=\"true\" ac:width=\"60\"><ri:attachment ri:filename=\"image2014-7-28 17:32:48.png\"><ri:page ri:content-title=\"Services Portfolio - Hybris Capabilities Workshop\" ri:space-key=\"servportfolio\" /></ri:attachment></ac:image></ac:link-body></ac:link></td></tr><tr><td colspan=\"1\">Previous Reviews <ac:structured-macro ac:macro-id=\"88bfa631-7db0-4b49-82f8-80d10bf3c73c\" ac:name=\"metadata-from\" ac:schema-version=\"1\"><ac:parameter ac:name=\"1\">Current Version</ac:parameter></ac:structured-macro></td><td colspan=\"1\"><ac:link><ri:page ri:content-title=\"System Review - Previous Reviews\" ri:space-key=\"servportfolio\" /><ac:link-body><ac:image ac:align=\"center\" ac:thumbnail=\"true\" ac:width=\"60\"><ri:attachment ri:filename=\"image2014-7-28 17:40:31.png\"><ri:page ri:content-title=\"Services Portfolio - Hybris Capabilities Workshop\" ri:space-key=\"servportfolio\" /></ri:attachment></ac:image></ac:link-body></ac:link></td></tr></tbody></table></ac:layout-cell><ac:layout-cell><ac:structured-macro ac:macro-id=\"8cf6916b-3923-41da-80bf-9c2be4822d3e\" ac:name=\"metadata-list\" ac:schema-version=\"1\"><ac:plain-text-body><![CDATA[|| Service Portfolio | [Hybris Capabilities Workshop|servportfolio:Services Portfolio - Hybris Capabilities Workshop] || \n|| Practice | Services - Functional ||\n|| Current Version | v0.1  ||\n|| Changelog | ||]]></ac:plain-text-body></ac:structured-macro></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"three_equal\"><ac:layout-cell><ac:structured-macro ac:macro-id=\"778f7372-9bb2-4678-b424-38db9768e404\" ac:name=\"divbox\" ac:schema-version=\"1\"><ac:parameter ac:name=\"class\">action-box</ac:parameter><ac:rich-text-body><h3><span style=\"color: rgb(0,0,0);\">New Service Engagement</span></h3><p>Your &quot;one stop shop&quot; to start a new Service Engagement.<ac:structured-macro ac:macro-id=\"299b8927-c3fe-4974-8360-ea616bff3796\" ac:name=\"html\" ac:schema-version=\"1\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:plain-text-body><![CDATA[<p><a href=\"javascript:undefined\" id=\"theOneButton\">Start</a></p>]]></ac:plain-text-body></ac:structured-macro></p></ac:rich-text-body></ac:structured-macro></ac:layout-cell><ac:layout-cell><ac:structured-macro ac:macro-id=\"a4bbf62e-2522-4778-a011-384450df57a1\" ac:name=\"divbox\" ac:schema-version=\"1\"><ac:parameter ac:name=\"class\">action-box</ac:parameter><ac:rich-text-body><h3><span style=\"color: rgb(0,0,0);\">New Improvement action item</span></h3><p>Use this form to provide feedback for future service engagements, ideas of improvement or issues you faced that you would like to submit to the practice lead.</p><p><a href=\"https://jira.hybris.com/secure/CreateIssue.jspa?pid=14870&amp;issuetype=7\">Create</a></p></ac:rich-text-body></ac:structured-macro><p>&nbsp;</p><p>&nbsp;</p></ac:layout-cell><ac:layout-cell><h3>Community</h3><p><ac:structured-macro ac:macro-id=\"d0cb4e20-f76e-4c2c-8ff8-e0ccc095fe7d\" ac:name=\"table-plus\" ac:schema-version=\"1\"><ac:parameter ac:name=\"atlassian-macro-output-type\">INLINE</ac:parameter><ac:rich-text-body><table><tbody><tr><th colspan=\"1\">Name</th><th colspan=\"1\">Region</th><th colspan=\"1\">Role</th></tr><tr><td><p><ac:link><ri:user ri:userkey=\"ff8080814c7389c3014c738bbd7a03f5\" /></ac:link></p></td><td colspan=\"1\">Mid-W</td><td colspan=\"1\">PL</td></tr><tr><td><p><ac:link><ri:user ri:userkey=\"ff8080814c7389c3014c738bca9c305a\" /></ac:link></p></td><td colspan=\"1\">P. D.</td><td colspan=\"1\">CH</td></tr><tr><td>Champ 2</td><td colspan=\"1\">West</td><td colspan=\"1\">CH</td></tr><tr><td colspan=\"1\"><ac:link><ri:user ri:userkey=\"ff8080814c7389c3014c738bc5ad1fc3\" /></ac:link></td><td colspan=\"1\">East</td><td colspan=\"1\">CH</td></tr><tr><td colspan=\"1\">Contr. 2</td><td colspan=\"1\">West</td><td colspan=\"1\">CO</td></tr></tbody></table><p>PL (Practice Lead), CH (Champion), CO (Contributor)</p><p>&nbsp;</p></ac:rich-text-body></ac:structured-macro></p></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"two_equal\"><ac:layout-cell><h3>Backlog</h3><p><ac:structured-macro ac:macro-id=\"80161c75-814d-4538-bc62-0a2b90a41416\" ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">https://jira.hybris.com</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"maximumIssues\">20</ac:parameter><ac:parameter ac:name=\"jqlQuery\">filter = &quot;ESPLM Services - Functional - Capabilities Workshop - Backlog&quot; </ac:parameter><ac:parameter ac:name=\"serverId\">59316451-abca-3ef9-b114-7874ba6ebe43</ac:parameter></ac:structured-macro></p></ac:layout-cell><ac:layout-cell><h3>Recently Completed Improvements</h3><p><ac:structured-macro ac:macro-id=\"90f22872-2c3b-42fe-b76d-695a9594eca4\" ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">https://jira.hybris.com</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"maximumIssues\">20</ac:parameter><ac:parameter ac:name=\"jqlQuery\">filter = &quot;ESPLM Services - Functional - Capabilities Workshop - Backlog&quot; </ac:parameter><ac:parameter ac:name=\"serverId\">59316451-abca-3ef9-b114-7874ba6ebe43</ac:parameter></ac:structured-macro></p></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"two_equal\"><ac:layout-cell><h3>Upcoming Engagements</h3><table><tbody><tr><th>Customer</th><th>Link To Page</th><th>Date</th></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></ac:layout-cell><ac:layout-cell><h3>Recently Completed Engagements</h3><table><tbody><tr><th>Customer</th><th>Deliverable Link</th><th>Date</th></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td colspan=\"1\">&nbsp;</td><td colspan=\"1\">&nbsp;</td><td colspan=\"1\">&nbsp;</td></tr></tbody></table></ac:layout-cell></ac:layout-section><ac:layout-section ac:type=\"single\"><ac:layout-cell><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></ac:layout-cell></ac:layout-section></ac:layout>","representation":"storage","_expandable":{"content":"/rest/api/content/327165268"}},"_expandable":{"editor":"","view":"","export_view":"","anonymous_export_view":""}},"extensions":{"position":15},"_links":{"webui":"/pages/viewpage.action?pageId=327165268","tinyui":"/x/VCWAEw","collection":"/rest/api/content","base":"https://wiki.hybris.com","context":"","self":"https://wiki.hybris.com/rest/api/content/327165268"},"_expandable":{"metadata":"","operations":"","children":"/rest/api/content/327165268/child","descendants":"/rest/api/content/327165268/descendant"}}